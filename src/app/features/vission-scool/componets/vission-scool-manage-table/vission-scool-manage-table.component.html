@if (dataScool) {
  <div class="p-4">
    <app-section-header
      [titleheader]="dataScool.name"
      [description]="dataScool.description"
      image="images/comunidad.png"
    ></app-section-header>
  </div>

}

<p-dialog header="Itinerario de clases" [modal]="true" [(visible)]="visible" [style]="{ width: '40rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" >
    <p>
        <p-table [value]="classItinerary"  styleClass="p-datatable-sm" styleClass="p-datatable-gridlines border-round overflow-hidden" showGridlines>
          <ng-template #header>
              <tr>
                  <th>No</th>
                  <th>Nombre de la clase</th> 
                  <th class="w-[160px]">Fecha impartici贸n</th> 
                </tr>
          </ng-template>
          <ng-template pTemplate="body" let-dataPeriod let-index="rowIndex">
                      <tr>
                        <td>{{ index + 1 }}</td>
                        <td>{{ dataPeriod.scoolClasses.name }}</td>
                        <td>{{ dataPeriod.date_class | date : "dd/MM/yyyy" }}</td>
                      </tr>
          </ng-template>
        </p-table>
    </p>
</p-dialog>




<section class="mx-auto max-w-(--breakpoint-2x2) p-4 ">
    <section class="grid grid-cols-1 gap-12">
         <section class="space-y-12">
             <p-card styleClass="animate__animated animate__fadeIn">
                 
             

              <p-table [value]="data.period"  styleClass="p-datatable-sm" styleClass="p-datatable-gridlines border-round overflow-hidden" showGridlines>
                <ng-template pTemplate="caption">
                    <div class="flex justify-between">
                      &nbsp;
                      <div class="flex">
                        <button
                              (click)="openAddGenerations()"
                              class="cursor-pointer text-MAIN_WHITE text-[18px] font-semibold bg-PRIMARY_COLOR flex items-center flex-row rounded-lg justify-center gap-2"
                              style="padding: 10px"
                              >
                              <svg
                              width="20"
                              height="20"
                              viewBox="0 0 17 18"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                              class="w-[20px] h-[20px]"
                              >
                              <path
                                  _ngcontent-ng-c3051437113=""
                                  d="M0.577969 11.27V7.28H16.433V11.27H0.577969ZM6.49297 0.945H10.553V17.57H6.49297V0.945Z"
                                  fill="currentColor"
                              ></path>
                              </svg>
                              <span class="text-white-300 !font-semibold">Agregar nueva generaci贸n</span>
                          </button>
                      </div>
                    </div>
                </ng-template>  
                <ng-template #header>
                      <tr>
                          <th>No</th>
                          <th>Nombre del evento</th> 
                          <th>Fecha inicio</th> 
                          <th>Fecha finalizaci贸n</th> 
                          <th>Fecha de creaci贸n</th>
                          <th>Participantes</th>
                          <th>Opciones</th>
                        </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-dataPeriod let-index="rowIndex">
                      <tr>
                        <td>{{ ((pagination.currentPage - 1) * pagination.itemsPerPage) + index + 1 }}</td>
                        <td>{{ dataPeriod.name }}</td>
                        <td>{{ dataPeriod.classItinerary[0]?.date_class | date: "dd/MM/yyyy" }}</td>
                        <td>{{ dataPeriod.classItinerary[dataPeriod.classItinerary.length - 1]?.date_class | date: "dd/MM/yyyy" }}</td>
                        <td>{{ dataPeriod.creation_date | date : "dd/MM/yyyy" }}</td>
                        <td style="width: 100px;" class="text-center" >{{ dataPeriod.total_list }}</td>
                        <td>
                          <div class="text-center w-full">
                            <p-menu
                              #menu
                              [model]="menuItems[dataPeriod.id]"
                              [popup]="true"
                              appendTo="body"
                            ></p-menu>
                            <button
                              pButton
                              (click)="menu.toggle($event)"
                              class="p-button-text"
                              icon="pi pi-ellipsis-v"
                            ></button>
                          </div>
                        </td>
                      </tr>
                  </ng-template>


              </p-table>


              <div class="col-12">
                <p-paginator
                  (onPageChange)="onPageChange($event)"
                  [totalRecords]="pagination.totalItems"
                  [rows]="paginationParams.itemsPerPage || 10"
                  [rowsPerPageOptions]="[5, 10, 20, 30,100]"
                ></p-paginator>
              </div>


             </p-card>
         </section>
    </section>
 </section>
