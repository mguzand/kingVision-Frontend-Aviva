<p-table
    #dt
    [value]="data.affirmation"
    [globalFilterFields]="['person.identity', 'person.names', 'person.surname']"
    [tableStyle]="{ 'min-width': '70rem' }"
    [(selection)]="selectedAffirmation"
    [rowHover]="true"
    dataKey="people_id"
    styleClass="p-datatable-sm" styleClass="p-datatable-gridlines border-round overflow-hidden" 
    showGridlines
>

    <ng-template #caption>
        <div class="flex items-center justify-between">
            <h5 class="m-0">Personas que culminaron el proceso anterior</h5>
            <div class="flex justify-center items-center" >
               
              
              <p-iconfield>
                  <input pInputText type="text" 
                  appDebounce
                  [(ngModel)]="paginationParams.search"
                  (input)="onSearch()"
                  placeholder="Buscar..." />
              </p-iconfield>
            </div>
        </div>
    </ng-template>
    <ng-template #header>
        <tr>
            <th style="width: 3rem">
                <p-tableHeaderCheckbox />
            </th> 
            <th>No</th>
            <th>Identidad</th>
            <th>Nombres</th>
            <th>Apellidos</th>
            <th>Edad</th>
            <th>Celular</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-dataAffirmation let-index="rowIndex">
        <tr>
            <td style="width: 3rem">
                <p-tableCheckbox [value]="dataAffirmation" />
            </td>
            <td>{{ ((pagination.currentPage - 1) * pagination.itemsPerPage) + index + 1 }}</td>
            <td>{{ dataAffirmation.person.identity }}</td>
            <td>{{ dataAffirmation.person.names }}</td>
            <td>{{ dataAffirmation.person.surname }}</td>
            <td class="text-center">{{ dataAffirmation.person.birth_date | age }}</td>
            <td>{{ dataAffirmation.person.phone }}</td>
        </tr>
    </ng-template>
    @if (data.affirmation.length === 0 && !isLoading) {
    <ng-template #footer>
        <tr>
            <td colspan="7">
                <section class="section-none mt-4">
                    <div >No se encontraron participante del proceso anterior</div>
                </section>
            </td>
        </tr>
    </ng-template>
}






</p-table>

<div class="col-12 flex mt-4 items-center justify-center">

  <p-dropdown
        styleClass="w-[200px] py-3 px-5 "
        placeholder="Tipo de conversiÃ³n"
        appendTo="body"
        inputId="conversion"
        id="conversion" 
        [options]="valuePaginators"
        optionLabel="value"
        optionValue="value"
        [filter]="true"
         [(ngModel)]="paginationParams.itemsPerPage"
         (onChange)="loadData()"
    ></p-dropdown>

  <p-paginator
    appendTo="body"
    (onPageChange)="onPageChange($event)"
    [totalRecords]="pagination.totalItems"
    [rows]="paginationParams.itemsPerPage || 10" 
  ></p-paginator>
</div>

 

 


<div class="flex flex-row-reverse w-full">
    <div class="ml-7"><button
        type="submit"
        [disabled]="selectedAffirmation.length === 0"
         (click)="andList()"
        class="min-w-[220px] cursor-pointer mt-3 m-1 disabled:bg-GRAY_3 w-full bg-PRIMARY_COLOR h-[55px] flex items-center justify-center text-[17px] text-white font-bold rounded-full"
      >
        Agregar
      </button></div>

    <div >
        <button
            type="button"
            
            class="min-w-[220px]  cursor-pointer mt-3 m-1 disabled:bg-GRAY_3 w-full bg-RED_STRONG h-[55px] flex items-center justify-center text-[17px] text-white font-bold rounded-full"
        >
        Cancelar
        </button>
    </div>
    
  </div>
 